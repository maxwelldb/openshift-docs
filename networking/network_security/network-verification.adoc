:_mod-docs-content-type: ASSEMBLY
[id="osd-network-verification_{context}"]
= Network verification for {product-title} clusters

include::_attributes/common-attributes.adoc[]
include::_attributes/attributes-openshift-dedicated.adoc[]
:context: network-verification

toc::[]

Network verification checks run automatically when you deploy
ifdef::openshift-dedicated[]
an {product-title}
endif::openshift-dedicated[]
ifdef::openshift-rosa,openshift-rosa-hcp[]
a {product-title}
endif::openshift-rosa,openshift-rosa-hcp[]
cluster into an existing Virtual Private Cloud (VPC) or create an additional machine pool with a subnet that is new to your cluster. The checks validate your network configuration and highlight errors, enabling you to resolve configuration issues before cluster deployment.

You can also run the network verification checks manually to validate the configuration for an existing cluster.

include::modules/understanding-network-verification.adoc[leveloffset=+1]

[id="scope-of-the-network-verification-checks_{context}"]
== Scope of the network verification checks

The network verification includes checks for each of the following requirements:

* The parent Virtual Private Cloud (VPC) exists.
* All specified subnets belong to the VPC.
* The VPC has `enableDnsSupport` enabled.
* The VPC has `enableDnsHostnames` enabled.
ifdef::openshift-dedicated[]
* Egress is available to the required domain and port combinations that are specified in the xref:../../osd_planning/aws-ccs.adoc#osd-aws-privatelink-firewall-prerequisites_aws-ccs[AWS firewall prerequisites] section.
endif::openshift-dedicated[]
//ifdef::openshift-rosa[]
//Commenting out the following xref because it's breaking the networking and potentially other PRs. Pre- or post-publish HCP pruning task. 
//ifdef::openshift-rosa,openshift-rosa-hcp[]
//* Egress is available to the required domain and port combinations that are specified in the xref:../../rosa_planning/rosa-classic-aws-prereqs.adoc#rosa-classic-firewall-prerequisites_rosa-classic-aws-prereqs[AWS firewall prerequisites] section.
// This link needs to reamin hidden until the HCP migration is published
// * Egress is available to the required domain and port combinations that are specified in the xref:../../rosa_planning/rosa-sts-aws-prereqs.adoc#rosa-classic-firewall-prerequisites_rosa-sts-aws-prereqs[AWS firewall prerequisites] section.
//endif::openshift-rosa,openshift-rosa-hcp[]

include::modules/automatic-network-verification-bypassing.adoc[leveloffset=+1]
ifdef::openshift-rosa[]
include::modules/running-network-verification-manually.adoc[leveloffset=+1]
endif::openshift-rosa[]
ifdef::openshift-rosa,openshift-dedicated[]
include::modules/running-network-verification-manually-ocm.adoc[leveloffset=+1]
endif::openshift-rosa,openshift-dedicated[]
ifdef::openshift-rosa,openshift-rosa-hcp[]
include::modules/running-network-verification-manually-cli.adoc[leveloffset=+2]
endif::openshift-rosa,openshift-rosa-hcp[]
//OSDOCS-11830 Confirmed verifying via OCM not available for ROSA with HCP